<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Distributing Python Code</title>
        <link rel="stylesheet" href="https://jmckew.com/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://jmckew.com/">Jack McKew's Blog </a></h1>
                <nav><ul>
                    <li class="active"><a href="https://jmckew.com/category/code-fridays.html">Code Fridays</a></li>
                    <li><a href="https://jmckew.com/category/code-fridays-projects.html">Code Fridays, Projects</a></li>
                    <li><a href="https://jmckew.com/category/code-fridays-python.html">Code Fridays, python</a></li>
                    <li><a href="https://jmckew.com/category/code-fridays-uncategorized.html">Code Fridays, Uncategorized</a></li>
                    <li><a href="https://jmckew.com/category/misc.html">misc</a></li>
                    <li><a href="https://jmckew.com/category/python.html">python</a></li>
                    <li><a href="https://jmckew.com/category/uncategorized.html">Uncategorized</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://jmckew.com/distributing-python-code.html" rel="bookmark"
           title="Permalink to Distributing Python Code">Distributing Python Code</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-05-31T06:30:00+10:00">
                Published: Fri 31 May 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://jmckew.com/author/admin.html">admin</a>
        </address>
<p>In <a href="https://jmckew.com/category/code-fridays.html">Code Fridays</a>.</p>
<p>tags: <a href="https://jmckew.com/tag/code-fridays.html">Code Fridays</a> </p>
</footer><!-- /.post-info -->      <!-- wp:paragraph -->

<p>This post will cover a way of distributing Python code such that is can be used by someone that does not have Python installed. One of the major drawbacks with Python that the gap is slowly being closed is how easy it is to distribute Python code.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>At a minimum, the computer that is to run the code must have the Python compiler (or equivalent). Now while this has been progressively included in more operating systems as a default (May update of Windows being the latest), you must still develop as such that is not present on the users' PC.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>For this post, I will show you a basic piece of code to demonstrate how it will be packaged and distributed to your users. To show a basic dialog box on the screen with the following code:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ctypes</span>

<span class="n">ctypes</span><span class="o">.</span><span class="n">windll</span><span class="o">.</span><span class="n">user32</span><span class="o">.</span><span class="n">MessageBoxW</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Hello Windows!&quot;</span><span class="p">,</span> <span class="s2">&quot;PyInstaller Example&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Which shows the user with this dialog box:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":311,"align":"center"} -->

<p>::: {.wp-block-image}
<img alt="" class="wp-image-311" src="https://jmckew.com/wp-content/uploads/2019/05/python_Dh0hFJKqDx.png">
:::</p>
<!-- /wp:image -->

<!-- wp:paragraph -->

<p>Now to package this code into an executable (.exe), there are multiple packages out there that are possible to use, some examples of these are:</p>
<!-- /wp:paragraph -->

<!-- wp:list -->

<ul>
<li><a href="https://anthony-tuininga.github.io/cx_Freeze/">cx_freeze</a></li>
<li><a href="http://www.py2exe.org/">py2exe</a></li>
<li><a href="https://www.pyinstaller.org/">PyInstaller</a></li>
</ul>
<!-- /wp:list -->

<!-- wp:paragraph -->

<p>For this post, I will use PyInstaller as it is what I am most familiar, please get in touch with me if you believe any other package is better suited. I have created an environment in anaconda named "pyinstall", in which I have installed PyInstaller with the command "conda install -c conda-forge pyinstaller", which includes Python 3.7.3 due to anaconda's packaging system (thereby including ctypes from the standard library).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Now to use the PyInstaller package, just open Anaconda Prompt (or cmd if anaconda.exe is in your PATH). Navigate to where the python code is stored, and run the command "pyinstaller \&lt;name_of_program>.py. See below for an example:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":313,"align":"center"} -->

<p>::: {.wp-block-image}
<img alt="" class="wp-image-313" src="https://i1.wp.com/jmckew.com/wp-content/uploads/2019/05/cmd_PXbANiLF4N.png?fit=640%2C364&amp;ssl=1">
:::</p>
<!-- /wp:image -->

<!-- wp:paragraph -->

<p>This will create a build &amp; dist folder within the directory you navigated to, which contains the python application and all the required files will be put inside the dist folder which will be shipped to the user later on. There are many other settings that you can use to customize how your package gets built and more, but I won't go into that in this post.</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":314,"align":"center"} -->

<p>::: {.wp-block-image}
<img alt="" class="wp-image-314" src="https://jmckew.com/wp-content/uploads/2019/05/explorer_409CFHxhyh.png">
:::</p>
<!-- /wp:image -->

<!-- wp:paragraph -->

<p>Now if we go into the dist folder and find the .exe (which will have the same name as your python file unless you change this setting). Once you hit run, you'll be met by this screen:</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":315,"align":"center"} -->

<p>::: {.wp-block-image}
<img alt="" class="wp-image-315" src="https://i1.wp.com/jmckew.com/wp-content/uploads/2019/05/pyinstall_example_w5KP1B327W.png?fit=640%2C364&amp;ssl=1">
:::</p>
<!-- /wp:image -->

<!-- wp:paragraph -->

<p>Now you can send this executable to anyone (although most antivirus will stop you) and it will run on their PC!</p>
<!-- /wp:paragraph -->
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>