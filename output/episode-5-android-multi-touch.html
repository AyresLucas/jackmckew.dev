
<!DOCTYPE html>
<html lang="english">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/font-awesome/css/solid.css">

    <link href="https://nifty-engelbart-ce3324.netlify.com/static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">



<meta name="author" content="admin" />
<meta name="description" content="::: {.wp-block-image} ::: This week&#39;s episode of Code Fridays will go into detail on how to handle multi-touch inputs within Android. Firstly to handle the location on where the screen in being touched we need to create a class to handle the interaction. By creating a public class like Finger.java as …" />
<meta name="keywords" content="Code Fridays, Projects">

<meta property="og:site_name" content="Jack McKew's Blog"/>
<meta property="og:title" content="Episode 5 - Android Multi-Touch"/>
<meta property="og:description" content="::: {.wp-block-image} ::: This week&#39;s episode of Code Fridays will go into detail on how to handle multi-touch inputs within Android. Firstly to handle the location on where the screen in being touched we need to create a class to handle the interaction. By creating a public class like Finger.java as …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://nifty-engelbart-ce3324.netlify.com/episode-5-android-multi-touch.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-12-21 01:30:00+11:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://nifty-engelbart-ce3324.netlify.com/author/admin.html">
<meta property="article:section" content="Code Fridays"/>
<meta property="article:tag" content="Code Fridays"/>
<meta property="article:tag" content="Projects"/>
<meta property="og:image" content="img/jm-photo">

  <title>Jack McKew's Blog &ndash; Episode 5 - Android Multi-Touch</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://nifty-engelbart-ce3324.netlify.com">
        <img src="img/jm-photo" alt="Jack McKew's Blog" title="Jack McKew's Blog">
      </a>
      <h1><a href="https://nifty-engelbart-ce3324.netlify.com">Jack McKew's Blog</a></h1>

<p>Python enthusiast, electrical engineer and tinkerer</p>
      <nav>
        <ul class="list">

          <li><a href="https://jmckew.com/cv-professional/" target="_blank">CV/Professional</a></li>
          <li><a href="https://jmckew.com/contact/" target="_blank">Contact</a></li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-twitter" href="https://twitter.com/Jac_McQ" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/jack-mckew/" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-github" href="https://github.com/JackMcKew" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://nifty-engelbart-ce3324.netlify.com">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>
      <a href="/sitemap.xml">Sitemap</a>


    </nav>

<article class="single">
  <header>
      
    <h1 id="episode-5-android-multi-touch">Episode 5 - Android Multi-Touch</h1>
    <p>
          Posted on Fri 21 December 2018 in <a href="https://nifty-engelbart-ce3324.netlify.com/category/code-fridays.html">Code Fridays</a>


    </p>
  </header>


  <div>
    <!-- wp:image {"id":74,"align":"center"} -->

<p>::: {.wp-block-image}
<img alt="" class="wp-image-74" src="https://jmckew.com/wp-content/uploads/2018/12/ezgif.com-video-to-gif-2.gif">
:::</p>
<!-- /wp:image -->

<!-- wp:paragraph -->

<p>This week's episode of Code Fridays will go into detail on how to handle multi-touch inputs within Android. Firstly to handle the location on where the screen in being touched we need to create a class to handle the interaction. By creating a public class like Finger.java as can be seen below it contains 3 values: x_pos, y_pos and id. It is also useful to create a constructor so that other classes can easily construct the Finger class.</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"java"} -->

<p>``` {.wp-block-syntaxhighlighter-code .brush: .java; .notranslate}
public class Finger
{
    public float x_pos;
    public float y_pos;
    public int id;</p>
<div class="highlight"><pre><span></span><span class="n">Finger</span><span class="p">(</span><span class="nb">float</span> <span class="n">init_x</span><span class="p">,</span><span class="nb">float</span> <span class="n">init_y</span><span class="p">,</span><span class="nb">int</span> <span class="n">init_id</span><span class="p">)</span>
<span class="err">{</span>
    <span class="n">x_pos</span> <span class="o">=</span> <span class="n">init_x</span><span class="p">;</span>
    <span class="n">y_pos</span> <span class="o">=</span> <span class="n">init_y</span><span class="p">;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">init_id</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>


<p>}</p>
<div class="highlight"><pre><span></span><span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">syntaxhighlighter</span><span class="o">/</span><span class="nv">code</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="nv">Now</span> <span class="nv">that</span> <span class="nv">we</span> <span class="nv">have</span> <span class="nv">a</span> <span class="nv">class</span> <span class="nv">to</span> <span class="nv">store</span> <span class="nv">our</span> <span class="nv">details</span> <span class="nv">on</span> <span class="nv">how</span> <span class="nv">each</span> <span class="nv">finger</span> <span class="nv">is</span> <span class="nv">touching</span> <span class="nv">the</span> <span class="nv">screen</span>, <span class="nv">we</span> <span class="nv">now</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">interact</span> <span class="nv">with</span> <span class="nv">some</span> <span class="nv">base</span> <span class="nv">level</span> <span class="nv">Java</span>. <span class="nv">Firstly</span> <span class="nv">we</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">extend</span> <span class="nv">a</span> <span class="nv">view</span> <span class="nv">within</span> <span class="nv">the</span> <span class="nv">Android</span> <span class="nv">application</span> <span class="nv">so</span> <span class="nv">that</span> <span class="nv">the</span> <span class="nv">application</span> <span class="nv">knows</span> <span class="nv">what</span> <span class="nv">boundaries</span> <span class="nv">to</span> <span class="nv">deal</span>, <span class="nv">in</span> <span class="nv">my</span> <span class="nv">test</span> <span class="nv">application</span>, <span class="nv">I</span><span class="s1">&#39;</span><span class="s">ve just used the entire screen as a view.</span>

<span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="nv">After</span> <span class="nv">that</span> <span class="nv">an</span> <span class="nv">array</span> <span class="nv">is</span> <span class="nv">needed</span> <span class="nv">to</span> <span class="nv">store</span> <span class="nv">the</span> <span class="nv">data</span> <span class="nv">of</span> <span class="nv">multiple</span> <span class="nv">inputs</span> <span class="nv">touching</span> <span class="nv">the</span> <span class="nv">screen</span>. <span class="nv">I</span><span class="s1">&#39;</span><span class="s">ve used a TreeMap in this example as this allows for ease later on so that they are in order on how they were input, however this comes with a downside to this example as lifting a input in the middle of the order touched crashes the array, this will be fixed in a later episode.</span>

<span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="nv">A</span> <span class="nv">paint</span> <span class="nv">is</span> <span class="nv">initialized</span> <span class="k">for</span> <span class="nv">both</span> <span class="nv">the</span> <span class="nv">stroke</span> <span class="nv">paint</span> <span class="k">for</span> <span class="nv">drawing</span> <span class="nv">lines</span> <span class="nv">between</span> <span class="nv">the</span> <span class="nv">touches</span> <span class="nv">and</span> <span class="nv">a</span> <span class="nv">paint</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">text</span> <span class="nv">that</span> <span class="nv">is</span> <span class="nv">to</span> <span class="nv">come</span>. <span class="nv">Generic</span> <span class="nv">constructors</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">view</span> <span class="nv">are</span> <span class="nv">also</span> <span class="nv">listed</span> <span class="nv">below</span>.

<span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">syntaxhighlighter</span><span class="o">/</span><span class="nv">code</span> {<span class="s2">&quot;</span><span class="s">language</span><span class="s2">&quot;</span>:<span class="s2">&quot;</span><span class="s">java</span><span class="s2">&quot;</span>} <span class="o">--&gt;</span>

``` {.<span class="nv">wp</span><span class="o">-</span><span class="nv">block</span><span class="o">-</span><span class="nv">syntaxhighlighter</span><span class="o">-</span><span class="nv">code</span> .<span class="nv">brush</span>: .<span class="nv">java</span><span class="c1">; .notranslate}</span>
<span class="nv">public</span> <span class="nv">class</span> <span class="nv">TouchView</span> <span class="nv">extends</span> <span class="nv">View</span> {
<span class="nv">private</span> <span class="nv">TreeMap</span><span class="o">&lt;</span><span class="nv">Integer</span>, <span class="nv">Finger</span><span class="o">&gt;</span> <span class="nv">lineMap</span> <span class="o">=</span> <span class="nv">new</span> <span class="nv">TreeMap</span><span class="o">&lt;&gt;</span><span class="ss">()</span><span class="c1">;</span>

@<span class="nv">SuppressLint</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">UseSparseArrays</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="nv">private</span> <span class="nv">HashMap</span><span class="o">&lt;</span><span class="nv">Integer</span>, <span class="nv">Path</span><span class="o">&gt;</span> <span class="nv">fingerMap</span> <span class="o">=</span> <span class="nv">new</span> <span class="nv">HashMap</span><span class="o">&lt;&gt;</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">private</span> <span class="nv">Paint</span> <span class="nv">myPaint</span><span class="c1">;</span>
<span class="nv">private</span> <span class="nv">Paint</span> <span class="nv">textPaint</span><span class="c1">;</span>

<span class="nv">public</span> <span class="nv">TouchView</span><span class="ss">(</span><span class="nv">Context</span> <span class="nv">context</span><span class="ss">)</span> {
    <span class="nv">super</span><span class="ss">(</span><span class="nv">context</span><span class="ss">)</span><span class="c1">;</span>
    <span class="nv">init</span><span class="ss">()</span><span class="c1">;</span>
}

<span class="nv">public</span> <span class="nv">TouchView</span><span class="ss">(</span><span class="nv">Context</span> <span class="nv">context</span>, <span class="nv">AttributeSet</span> <span class="nv">attrs</span>, <span class="nv">int</span> <span class="nv">defStyle</span><span class="ss">)</span> {
    <span class="nv">super</span><span class="ss">(</span><span class="nv">context</span>, <span class="nv">attrs</span>, <span class="nv">defStyle</span><span class="ss">)</span><span class="c1">;</span>
    <span class="nv">init</span><span class="ss">()</span><span class="c1">;</span>
}

<span class="nv">public</span> <span class="nv">TouchView</span><span class="ss">(</span><span class="nv">Context</span> <span class="nv">context</span>, <span class="nv">AttributeSet</span> <span class="nv">attrs</span><span class="ss">)</span> {
    <span class="nv">super</span><span class="ss">(</span><span class="nv">context</span>, <span class="nv">attrs</span><span class="ss">)</span><span class="c1">;</span>
    <span class="nv">init</span><span class="ss">()</span><span class="c1">;</span>
}

<span class="nv">private</span> <span class="nv">void</span> <span class="nv">init</span><span class="ss">()</span> {
        <span class="nv">myPaint</span> <span class="o">=</span> <span class="nv">new</span> <span class="nv">Paint</span><span class="ss">()</span><span class="c1">;</span>
        <span class="nv">myPaint</span>.<span class="nv">setStyle</span><span class="ss">(</span><span class="nv">Paint</span>.<span class="nv">Style</span>.<span class="nv">FILL_AND_STROKE</span><span class="ss">)</span><span class="c1">;</span>
        <span class="nv">myPaint</span>.<span class="nv">setStrokeWidth</span><span class="ss">(</span><span class="mi">5</span><span class="ss">)</span><span class="c1">;</span>
        <span class="nv">myPaint</span>.<span class="nv">setColor</span><span class="ss">(</span><span class="nv">Color</span>.<span class="nv">RED</span><span class="ss">)</span><span class="c1">;</span>

        <span class="nv">textPaint</span> <span class="o">=</span> <span class="nv">new</span> <span class="nv">Paint</span><span class="ss">()</span><span class="c1">;</span>
        <span class="nv">textPaint</span>.<span class="nv">setTextSize</span><span class="ss">(</span><span class="mi">50</span><span class="ss">)</span><span class="c1">;</span>
    }
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Now that everything is initialized and ready to draw some graphics on the screen so that the application is interactive, now we have to interface with touch events. This is done by creating a new function within our View class, that takes in a MotionEvent on the View so that we can detect different types of touch events. Documentation on this can be found (<a href="https://developer.android.com/training/graphics/opengl/touch#java">https://developer.android.com/training/graphics/opengl/touch#java</a>).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"java"} -->

<p>``` {.wp-block-syntaxhighlighter-code .brush: .java; .notranslate}
@SuppressLint("ClickableViewAccessibility")
    @Override
    public boolean onTouchEvent(MotionEvent event) {
        int action = event.getAction() &amp; MotionEvent.ACTION_MASK;
        switch(action) {
            case MotionEvent.ACTION_DOWN : {
                int id = event.getPointerId(0);
                fingerMap.put(id, createCirPath(event.getX(), event.getY(), id));
                lineMap.put(id,createFinger(event.getX(),event.getY(),id));
                break;
            }
            case MotionEvent.ACTION_MOVE : {</p>
<div class="highlight"><pre><span></span>            <span class="nv">int</span> <span class="nv">touchCounter</span> <span class="o">=</span> <span class="nv">event</span>.<span class="nv">getPointerCount</span><span class="ss">()</span><span class="c1">;</span>
            <span class="k">for</span> <span class="ss">(</span><span class="nv">int</span> <span class="nv">t</span> <span class="o">=</span> <span class="mi">0</span><span class="c1">; t &lt; touchCounter; t++) {</span>
                <span class="nv">int</span> <span class="nv">id</span> <span class="o">=</span> <span class="nv">event</span>.<span class="nv">getPointerId</span><span class="ss">(</span><span class="nv">t</span><span class="ss">)</span><span class="c1">;</span>
                <span class="nv">fingerMap</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">id</span><span class="ss">)</span><span class="c1">;</span>
                <span class="nv">lineMap</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">id</span><span class="ss">)</span><span class="c1">;</span>
                <span class="nv">fingerMap</span>.<span class="nv">put</span><span class="ss">(</span><span class="nv">id</span>, <span class="nv">createCirPath</span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">getX</span><span class="ss">(</span><span class="nv">t</span><span class="ss">)</span>, <span class="nv">event</span>.<span class="nv">getY</span><span class="ss">(</span><span class="nv">t</span><span class="ss">)</span>, <span class="nv">id</span><span class="ss">))</span><span class="c1">;</span>
                <span class="nv">lineMap</span>.<span class="nv">put</span><span class="ss">(</span><span class="nv">id</span>,<span class="nv">createFinger</span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">getX</span><span class="ss">(</span><span class="nv">t</span><span class="ss">)</span>, <span class="nv">event</span>.<span class="nv">getY</span><span class="ss">(</span><span class="nv">t</span><span class="ss">)</span>, <span class="nv">id</span><span class="ss">))</span><span class="c1">;</span>
            }
        }
        <span class="nv">case</span> <span class="nv">MotionEvent</span>.<span class="nv">ACTION_POINTER_DOWN</span> : {
            <span class="nv">int</span> <span class="nv">id</span> <span class="o">=</span> <span class="nv">event</span>.<span class="nv">getPointerId</span><span class="ss">(</span><span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">))</span><span class="c1">;</span>
            <span class="nv">fingerMap</span>.<span class="nv">put</span><span class="ss">(</span><span class="nv">id</span>, <span class="nv">createCirPath</span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">getX</span><span class="ss">(</span><span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">))</span>, <span class="nv">event</span>.<span class="nv">getY</span><span class="ss">(</span><span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">))</span>, <span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)))</span><span class="c1">;</span>
            <span class="nv">lineMap</span>.<span class="nv">put</span><span class="ss">(</span><span class="nv">id</span>,<span class="nv">createFinger</span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">getX</span><span class="ss">(</span><span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">))</span>, <span class="nv">event</span>.<span class="nv">getY</span><span class="ss">(</span><span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">))</span>, <span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)))</span><span class="c1">;</span>
            <span class="k">break</span><span class="c1">;</span>
        }
        <span class="nv">case</span> <span class="nv">MotionEvent</span>.<span class="nv">ACTION_POINTER_UP</span> : {
            <span class="nv">int</span> <span class="nv">id</span> <span class="o">=</span> <span class="nv">event</span>.<span class="nv">getPointerId</span><span class="ss">(</span><span class="nv">getIndex</span><span class="ss">(</span><span class="nv">event</span><span class="ss">))</span><span class="c1">;</span>
            <span class="nv">fingerMap</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">id</span><span class="ss">)</span><span class="c1">;</span>
            <span class="nv">lineMap</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">id</span><span class="ss">)</span><span class="c1">;</span>
            <span class="k">break</span><span class="c1">;</span>
        }
        <span class="nv">case</span> <span class="nv">MotionEvent</span>.<span class="nv">ACTION_UP</span> : {
            <span class="nv">int</span> <span class="nv">id</span> <span class="o">=</span> <span class="nv">event</span>.<span class="nv">getPointerId</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span><span class="c1">;</span>
            <span class="nv">fingerMap</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">id</span><span class="ss">)</span><span class="c1">;</span>
            <span class="nv">lineMap</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">id</span><span class="ss">)</span><span class="c1">;</span>
            <span class="k">break</span><span class="c1">;</span>
        }
    }

    <span class="nv">invalidate</span><span class="ss">()</span><span class="c1">;</span>
    <span class="k">return</span> <span class="nv">true</span><span class="c1">;</span>
}
</pre></div>


<p>private int getIndex(MotionEvent event) {
        return (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;
    }</p>
<p>private Finger createFinger(float x, float y, int id)
    {
        return new Finger(x,y,id);
    }</p>
<div class="highlight"><pre><span></span><span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">syntaxhighlighter</span><span class="o">/</span><span class="nv">code</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="nv">Now</span> <span class="nv">that</span> <span class="nv">we</span><span class="s1">&#39;</span><span class="s">ve created a new Finger class inside our TreeMap by the order that the screen is touched in and we</span><span class="s1">&#39;</span><span class="nv">re</span> <span class="nv">removing</span> <span class="nv">that</span> <span class="nv">class</span> <span class="nv">when</span> <span class="nv">the</span> <span class="nv">screen</span> <span class="nv">input</span> <span class="nv">has</span> <span class="nv">been</span> <span class="nv">released</span>, <span class="nv">we</span> <span class="nv">are</span> <span class="nv">now</span> <span class="nv">ready</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">on</span> <span class="nv">the</span> <span class="nv">screen</span> <span class="nv">from</span> <span class="nv">our</span> <span class="nv">inputs</span>.

<span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="nv">By</span> <span class="nv">iterating</span> <span class="nv">through</span> <span class="nv">the</span> <span class="nv">TreeMap</span>, <span class="nv">in</span> <span class="nv">each</span> <span class="k">loop</span> <span class="nv">we</span> <span class="nv">know</span> <span class="nv">what</span> <span class="nv">the</span> <span class="nv">previous</span> <span class="nv">and</span> <span class="nv">what</span> <span class="nv">the</span> <span class="k">next</span> <span class="nv">value</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">array</span> <span class="nv">we</span> <span class="nv">can</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">circle</span> <span class="k">for</span> <span class="nv">where</span> <span class="nv">the</span> <span class="nv">input</span> <span class="nv">is</span> <span class="nv">and</span> <span class="nv">a</span> <span class="nv">line</span> <span class="nv">between</span>. <span class="nv">This</span> <span class="nv">also</span> <span class="nv">allows</span> <span class="nv">us</span> <span class="nv">to</span> <span class="nv">determine</span> <span class="nv">whereabouts</span> <span class="nv">is</span> <span class="nv">the</span> <span class="nv">point</span> <span class="nv">in</span> <span class="nv">between</span> <span class="nv">these</span> <span class="nv">two</span> <span class="nv">points</span> <span class="nv">so</span> <span class="nv">we</span> <span class="nv">can</span> <span class="nv">write</span> <span class="nv">text</span>. <span class="k">For</span> <span class="nv">this</span> <span class="nv">example</span>, <span class="nv">I</span><span class="s1">&#39;</span><span class="s">ve chosen to write the length of the distance between the two inputs to demonstrate that this can also be dynamic in nature.</span>

<span class="o">&lt;!--</span> <span class="o">/</span><span class="nv">wp</span>:<span class="nv">paragraph</span> <span class="o">--&gt;</span>

<span class="o">&lt;!--</span> <span class="nv">wp</span>:<span class="nv">syntaxhighlighter</span><span class="o">/</span><span class="nv">code</span> {<span class="s2">&quot;</span><span class="s">language</span><span class="s2">&quot;</span>:<span class="s2">&quot;</span><span class="s">java</span><span class="s2">&quot;</span>} <span class="o">--&gt;</span>

``` {.<span class="nv">wp</span><span class="o">-</span><span class="nv">block</span><span class="o">-</span><span class="nv">syntaxhighlighter</span><span class="o">-</span><span class="nv">code</span> .<span class="nv">brush</span>: .<span class="nv">java</span><span class="c1">; .notranslate}</span>
<span class="nv">private</span> <span class="nv">Path</span> <span class="nv">createCirPath</span><span class="ss">(</span><span class="nv">float</span> <span class="nv">x</span>, <span class="nv">float</span> <span class="nv">y</span>, <span class="nv">int</span> <span class="nv">id</span><span class="ss">)</span> {
        <span class="nv">Path</span> <span class="nv">p</span> <span class="o">=</span> <span class="nv">new</span> <span class="nv">Path</span><span class="ss">()</span><span class="c1">;</span>
        <span class="nv">p</span>.<span class="nv">addCircle</span><span class="ss">(</span><span class="nv">x</span>, <span class="nv">y</span>, <span class="mi">50</span>, <span class="nv">Path</span>.<span class="nv">Direction</span>.<span class="nv">CW</span><span class="ss">)</span><span class="c1">;</span>
        <span class="k">return</span> <span class="nv">p</span><span class="c1">;</span>
    }

    @<span class="nv">Override</span>
    <span class="nv">protected</span> <span class="nv">void</span> <span class="nv">onDraw</span><span class="ss">(</span><span class="nv">Canvas</span> <span class="nv">canvas</span><span class="ss">)</span> {
        <span class="k">for</span> <span class="ss">(</span><span class="nv">Integer</span> <span class="nv">key</span> : <span class="nv">fingerMap</span>.<span class="nv">keySet</span><span class="ss">())</span> {
            <span class="nv">Path</span> <span class="nv">p</span> <span class="o">=</span> <span class="nv">fingerMap</span>.<span class="nv">get</span><span class="ss">(</span><span class="nv">key</span><span class="ss">)</span><span class="c1">;</span>
            <span class="nv">canvas</span>.<span class="nv">drawPath</span><span class="ss">(</span><span class="nv">p</span>, <span class="nv">myPaint</span><span class="ss">)</span><span class="c1">;</span>
        }
        <span class="k">if</span><span class="ss">(</span><span class="nv">lineMap</span>.<span class="nv">size</span><span class="ss">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="ss">)</span>
        {
            <span class="nv">Integer</span> <span class="nv">key</span> <span class="o">=</span> <span class="nv">lineMap</span>.<span class="nv">firstKey</span><span class="ss">()</span><span class="c1">;</span>
            <span class="k">for</span><span class="ss">(</span><span class="nv">int</span> <span class="nv">i</span> <span class="o">=</span> <span class="mi">0</span><span class="c1">; i &lt; lineMap.size(); i = i + 1)</span>
            {
                <span class="nv">Finger</span> <span class="nv">start_fin</span> <span class="o">=</span> <span class="nv">lineMap</span>.<span class="nv">get</span><span class="ss">(</span><span class="nv">key</span><span class="ss">)</span><span class="c1">;</span>
                <span class="k">if</span><span class="ss">(</span><span class="nv">key</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">!=</span> <span class="nv">lineMap</span>.<span class="nv">size</span><span class="ss">())</span> {
                    <span class="nv">Integer</span> <span class="nv">new_key</span> <span class="o">=</span> <span class="nv">lineMap</span>.<span class="nv">higherKey</span><span class="ss">(</span><span class="nv">key</span><span class="ss">)</span><span class="c1">;</span>
                    <span class="nv">Finger</span> <span class="nv">end_fin</span> <span class="o">=</span> <span class="nv">lineMap</span>.<span class="nv">get</span><span class="ss">(</span><span class="nv">new_key</span><span class="ss">)</span><span class="c1">;</span>
                    <span class="nv">canvas</span>.<span class="nv">drawLine</span><span class="ss">(</span><span class="nv">start_fin</span>.<span class="nv">x_pos</span>, <span class="nv">start_fin</span>.<span class="nv">y_pos</span>, <span class="nv">end_fin</span>.<span class="nv">x_pos</span>, <span class="nv">end_fin</span>.<span class="nv">y_pos</span>, <span class="nv">myPaint</span><span class="ss">)</span><span class="c1">;</span>
                    <span class="nv">String</span> <span class="nv">lineText</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Length: </span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nv">new</span> <span class="nv">DecimalFormat</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">#.##</span><span class="s2">&quot;</span><span class="ss">)</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">Math</span>.<span class="nv">sqrt</span><span class="ss">(</span><span class="nv">Math</span>.<span class="nv">pow</span><span class="ss">(</span><span class="nv">end_fin</span>.<span class="nv">x_pos</span> <span class="o">-</span> <span class="nv">start_fin</span>.<span class="nv">x_pos</span>,<span class="mi">2</span><span class="ss">)</span> <span class="o">+</span> <span class="nv">Math</span>.<span class="nv">pow</span><span class="ss">(</span><span class="nv">end_fin</span>.<span class="nv">y_pos</span> <span class="o">-</span> <span class="nv">start_fin</span>.<span class="nv">y_pos</span>,<span class="mi">2</span><span class="ss">)))</span><span class="c1">;</span>
                    <span class="nv">canvas</span>.<span class="nv">drawText</span><span class="ss">(</span><span class="nv">lineText</span>,<span class="ss">((</span><span class="nv">start_fin</span>.<span class="nv">x_pos</span> <span class="o">+</span> <span class="nv">end_fin</span>.<span class="nv">x_pos</span><span class="ss">)</span> <span class="o">/</span> <span class="mi">2</span><span class="ss">)</span>, <span class="ss">((</span><span class="nv">start_fin</span>.<span class="nv">y_pos</span> <span class="o">+</span> <span class="nv">end_fin</span>.<span class="nv">y_pos</span><span class="ss">)</span> <span class="o">/</span> <span class="mi">2</span><span class="ss">)</span>,<span class="nv">textPaint</span><span class="ss">)</span><span class="c1">;</span>
                    <span class="nv">key</span> <span class="o">=</span> <span class="nv">new_key</span><span class="c1">;</span>
                }
            }
        }
    }
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>In summary, it is quite simple to develop multi-touch interactions between the user and the application to enhance usability and interactivity. This is part of a application that I am developing at the moment and hope to share more insights into development as I progress on.</p>
<!-- /wp:paragraph -->
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://nifty-engelbart-ce3324.netlify.com/tag/code-fridays.html">Code Fridays</a>
      <a href="https://nifty-engelbart-ce3324.netlify.com/tag/projects.html">Projects</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jack McKew's Blog ",
  "url" : "https://nifty-engelbart-ce3324.netlify.com",
  "image": "img/jm-photo",
  "description": ""
}
</script>

</body>
</html>