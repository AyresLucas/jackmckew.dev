
<!DOCTYPE html>
<html lang="english">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://nifty-engelbart-ce3324.netlify.com/theme/font-awesome/css/solid.css">

    <link href="https://nifty-engelbart-ce3324.netlify.com/static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="img/jm-photo" type="image/x-icon">
    <link rel="icon" href="img/jm-photo" type="image/x-icon">



<meta name="author" content="admin" />
<meta name="description" content="A &#39;dunder&#39; (double underscores) in Python (also known as a magic method) are the functions within classes having two prefix and suffix underscores in the function name. These are normally used for operator overloading (eg, __init__, __add__, __len__, __repr__, etc). For this post we will build a customized class for …" />
<meta name="keywords" content="Code Fridays, python">

<meta property="og:site_name" content="Jack McKew's Blog"/>
<meta property="og:title" content="Dunders in Python"/>
<meta property="og:description" content="A &#39;dunder&#39; (double underscores) in Python (also known as a magic method) are the functions within classes having two prefix and suffix underscores in the function name. These are normally used for operator overloading (eg, __init__, __add__, __len__, __repr__, etc). For this post we will build a customized class for …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://nifty-engelbart-ce3324.netlify.com/dunders-in-python.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-09-06 06:30:00+10:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://nifty-engelbart-ce3324.netlify.com/author/admin.html">
<meta property="article:section" content="Uncategorized"/>
<meta property="article:tag" content="Code Fridays"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="">

  <title>Jack McKew's Blog &ndash; Dunders in Python</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://nifty-engelbart-ce3324.netlify.com">
        <img src="https://nifty-engelbart-ce3324.netlify.com/theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href="https://nifty-engelbart-ce3324.netlify.com"></a></h1>


      <nav>
        <ul class="list">

          <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
          <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
          <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-You can add links in your config file" href="#" target="_blank">
            <i class="fab fa-You can add links in your config file">
            </i>
          </a></li>
          <li>
            <a  class="sc-Another social link" href="#" target="_blank">
            <i class="fab fa-Another social link">
            </i>
          </a></li>
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="dunders-in-python">Dunders in Python</h1>
    <p>
          Posted on Fri 06 September 2019 in <a href="https://nifty-engelbart-ce3324.netlify.com/category/uncategorized.html">Uncategorized</a>


    </p>
  </header>


  <div>
    <!-- wp:paragraph -->

<p>A 'dunder' (double underscores) in Python (also known as a magic method) are the functions within classes having two prefix and suffix underscores in the function name. These are normally used for operator overloading (eg, __init__, __add__, __len__, __repr__, etc). For this post we will build a customized class for vectors to understand how the magic methods can be used to make life easier.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>First of all before we get into the magic methods, let's talk about normal methods. A method in Python is a function that resides in a class. To begin with our Vector class, we initialise our class and give it a function, for example:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Vector</span>():

    <span class="n">def</span> <span class="n">say_hello</span>():
        <span class="nb">print</span>(<span class="s">&quot;Hello! I&#39;m a method&quot;</span>)
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Now to call the method, we simply call the function name along with the Vector instance we wish to use:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="n">Vector</span><span class="p">.</span><span class="n">say_hello</span><span class="p">()</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>This will print:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="n">Hello</span><span class="o">!</span> <span class="n">I</span><span class="err">&#39;</span><span class="n">m</span> <span class="n">a</span> <span class="k">method</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Now for our vector class, we want to be able to initialise it with certain constants or variables for both the magnitude and direction of our vector. We use the __init__ magic method for this, as it is invoked without any call, when an instance of a class is created.</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Vector</span>():
    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>, *<span class="n">args</span>):
        <span class="k">self</span>.<span class="nb">values</span> = <span class="n">args</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Now when we create an instance of our Vector class, we can give it certain values that it will store in a tuple:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="n">vector_1</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">vector_1</span><span class="p">)</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Which will print:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">__main__</span><span class="p">.</span><span class="n">Vector</span> <span class="k">object</span> <span class="k">at</span> <span class="mi">0</span><span class="n">x03E90530</span><span class="o">&gt;</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>But to us humans, this doesn't mean much more than we know what the name of the class is of that instance. What we really want to see when we call print on our class is the values inside it. To do this we use the __repr__ magic method:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="nv">class</span> <span class="nv">Vector</span><span class="ss">()</span>:
    <span class="nv">def</span> <span class="nv">__init__</span><span class="ss">(</span><span class="nv">self</span>, <span class="o">*</span><span class="nv">args</span><span class="ss">)</span>:
        <span class="nv">self</span>.<span class="nv">values</span> <span class="o">=</span> <span class="nv">args</span>
    <span class="nv">def</span> <span class="nv">__repr__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="nv">str</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">values</span><span class="ss">)</span>

<span class="nv">vector_1</span> <span class="o">=</span> <span class="nv">Vector</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>

<span class="nv">print</span><span class="ss">(</span><span class="nv">vector_1</span><span class="ss">)</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Which will print:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>This is exactly what we want! Now what if we wanted to create a Vector, but we weren't sure what values we wanted to give it yet. What would happen if we didn't give it any values? Would it default to (0,0) like we would hope?</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="n">empty_vector</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>

<span class="n">print</span><span class="p">(</span><span class="n">empty_vector</span><span class="p">)</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Which will print:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="p">()</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Not exactly how we need it, so we would need to run a check when the class is being initialized, to ensure that there are values being provided:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="nv">class</span> <span class="nv">Vector</span><span class="ss">()</span>:
    <span class="nv">def</span> <span class="nv">__init__</span><span class="ss">(</span><span class="nv">self</span>, <span class="o">*</span><span class="nv">args</span><span class="ss">)</span>:
        <span class="k">if</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">args</span><span class="ss">)</span> <span class="o">==</span> <span class="mi">0</span>:
            <span class="nv">self</span>.<span class="nv">values</span> <span class="o">=</span> <span class="ss">(</span><span class="mi">0</span>,<span class="mi">0</span><span class="ss">)</span>
        <span class="k">else</span>: 
            <span class="nv">self</span>.<span class="nv">values</span> <span class="o">=</span> <span class="nv">args</span>
    <span class="nv">def</span> <span class="nv">__repr__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="nv">str</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">values</span><span class="ss">)</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Which when initialise an empty instance of our Vector now, it will create a (0,0) vector for us!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>Now what if we wanted to be able to check how many values were inside our vector class? To do this we can use the __len__ magic method:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python","lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="nv">class</span> <span class="nv">Vector</span><span class="ss">()</span>:
    <span class="nv">def</span> <span class="nv">__init__</span><span class="ss">(</span><span class="nv">self</span>, <span class="o">*</span><span class="nv">args</span><span class="ss">)</span>:
        <span class="k">if</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">args</span><span class="ss">)</span> <span class="o">==</span> <span class="mi">0</span>:
            <span class="nv">self</span>.<span class="nv">values</span> <span class="o">=</span> <span class="ss">(</span><span class="mi">0</span>,<span class="mi">0</span><span class="ss">)</span>
        <span class="k">else</span>: 
            <span class="nv">self</span>.<span class="nv">values</span> <span class="o">=</span> <span class="nv">args</span>
    <span class="nv">def</span> <span class="nv">__repr__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="nv">str</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">values</span><span class="ss">)</span>
    <span class="nv">def</span> <span class="nv">__len__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">values</span><span class="ss">)</span>

<span class="nv">vector_1</span> <span class="o">=</span> <span class="nv">Vector</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>

<span class="nv">print</span><span class="ss">(</span><span class="nv">vector_1</span><span class="ss">)</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">len</span><span class="ss">(</span><span class="nv">vector_1</span><span class="ss">))</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Which will print:</p>
<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"lineNumbers":false} -->

<div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">3</span>
</pre></div>


<!-- /wp:syntaxhighlighter/code -->

<!-- wp:paragraph -->

<p>Hopefully this post has given you insight into how dunders/magic methods could be used to super power your classes and make life much easier!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<p>You can find more information and examples about dunders in Python at: <a href="https://docs.python.org/3/reference/datamodel.html#special-method-names">https://docs.python.org/3/reference/datamodel.html#special-method-names</a></p>
<!-- /wp:paragraph -->
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://nifty-engelbart-ce3324.netlify.com/tag/code-fridays.html">Code Fridays</a>
      <a href="https://nifty-engelbart-ce3324.netlify.com/tag/python.html">python</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jack McKew's Blog ",
  "url" : "https://nifty-engelbart-ce3324.netlify.com",
  "image": "",
  "description": ""
}
</script>

</body>
</html>